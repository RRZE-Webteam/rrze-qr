jQuery(document).ready((function(r){r(".download-qr").on("click",(function(a){a.preventDefault();var e=r(this).data("id"),t=rrzeQr.nonce;r.post(rrzeQr.ajaxurl,{action:"rrze_qr_get_permalink",nonce:t,post_id:e},(function(e){if(e.success){var t=e.data,n=new QRious({value:t,size:300}),o=r("<a>").attr("href",n.toDataURL()).attr("download","qr-code.png").text("Download QR Code");r(a.target).after(o),o[0].click(),o.remove()}else alert(e.data)}))})),r("#rrze-qr-form").on("submit",(function(a){a.preventDefault();var e=r("#rrze-qr-url").val(),t=r("#rrze-qr-canvas")[0],n=new QRious({value:e,size:300,element:t});r("#rrze-qr-canvas").show();var o=r("<a>").attr("href",n.toDataURL()).attr("download","qr-code.png").addClass("button button-primary").css("margin-left","10px").html('<span class="rrze-qr-download-icon dashicons dashicons-download"></span>');r("#rrze-qr-form").append(o)}))}));